
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://salvasevero.github.io/ciber/25_Bypass.html">
      
      
        <link rel="prev" href="28_Smurf.html">
      
      
        <link rel="next" href="15_Ataque_PPTP.html">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Bypass - CiberSeguridad Redes.</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#bypass" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="." title="CiberSeguridad Redes." class="md-header__button md-logo" aria-label="CiberSeguridad Redes." data-md-component="logo">
      
  <img src="imagenes/logofp.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CiberSeguridad Redes.
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Bypass
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Cambiar a modo día"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambiar a modo día" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Cambiar a modo noche"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambiar a modo noche" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="CiberSeguridad Redes." class="md-nav__button md-logo" aria-label="CiberSeguridad Redes." data-md-component="logo">
      
  <img src="imagenes/logofp.png" alt="logo">

    </a>
    CiberSeguridad Redes.
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    WARM UP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            WARM UP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="0_Modelo_Capas.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modelo Capas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="1_ConocimientosBasicos.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conocimientos Básicos L2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="3_CAM_Overflow.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PoC CAM Overflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="4_ConocimientosL3.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conocimientos Básicos L3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="5_TeoriaVLAN.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Teoría VLAN
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="6_DHCP.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DHCP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="7_ConceptosL4.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conceptos Básicos L4
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="8_NAT.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NAT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="9_EnrutamientoDinamico.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enrutamiento Dinámico
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    OFENSIVA
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            OFENSIVA
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ARP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            ARP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="21_ARP.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ARP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="22_Spoofing.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ARP Spoofing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    DHCP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            DHCP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="23_DHCP.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DHCP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="24_DHCP_Starvation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Starvation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    DDoS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            DDoS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="26_UDP.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UDP Flooding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="27_HPing.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HPing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="28_Smurf.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Smurf
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Bypass
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="25_Bypass.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Bypass
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#escenario" class="md-nav__link">
    <span class="md-ellipsis">
      Escenario.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objetivo" class="md-nav__link">
    <span class="md-ellipsis">
      Objetivo.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estrategia" class="md-nav__link">
    <span class="md-ellipsis">
      Estrategia.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuraciones-iniciales" class="md-nav__link">
    <span class="md-ellipsis">
      Configuraciones Iniciales.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#realizacion-del-bypass" class="md-nav__link">
    <span class="md-ellipsis">
      Realización del Bypass.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mitigacion" class="md-nav__link">
    <span class="md-ellipsis">
      Mitigación.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#https-y-dns-inspection" class="md-nav__link">
    <span class="md-ellipsis">
      HTTPS y DNS Inspection.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#video-explicativo" class="md-nav__link">
    <span class="md-ellipsis">
      Vídeo Explicativo.
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="15_Ataque_PPTP.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ataque PPTP
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    DEFENSIVA
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            DEFENSIVA
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="11_VLANs.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VLANs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="10_LACP.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    STACK & LACP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="12_VRRP.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VRRP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    VPN
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            VPN
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="13_VPN.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conceptos Básicos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="14_PPTP.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PPTP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="17_IPSec.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IPSec
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="16_OpenVPN.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenVPN & Wireguard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="18_DMVPN.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DMVPN
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="20_NGFW.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NGFW
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="19_RADIUS.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RADIUS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ANEXO
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            ANEXO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="A_ProblemasEVE.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Problemas Simulador
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Comandos Cisco
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Comandos Cisco
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="2_ComandosCisco.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Comandos Básicos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="A_ComandosCisco2.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Comandos Router
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="A_ComandosNAT.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Comandos NAT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="A_CiscoACL.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ACL
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Configuraciones Mikrotik
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Configuraciones Mikrotik
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="A_Configuraci%C3%B3nMikrotik.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuración Básica
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="A_Configurar_PPTP.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PPTP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="A_IPSec.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L2TP/IPSec
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="A_Site_Site_IPSec_RSA.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IPSec Site-to-Site
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="A_Usuarios.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usuarios EVE-NG
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<div><h1 id="bypass">Bypass.<a class="headerlink" href="#bypass" title="Permanent link">¶</a></h1>
<h2 id="escenario">Escenario.<a class="headerlink" href="#escenario" title="Permanent link">¶</a></h2>
<center>
<figure>
  <img src="imagenes/ofensiva/25.png" width="900">
</figure>
</center>

<h3 id="empresa">Empresa<a class="headerlink" href="#empresa" title="Permanent link">¶</a></h3>
<ul>
<li>
<p>Tenemos una red Interna 192.168.0.X/24 que está <ins class="critic"><strong>detrás de un NAT y además el router corta las conexiones SSH</strong></ins>, por lo que no se puede conectar a servidores ssh. </p>
</li>
<li>
<p>No tenemos control del router, únicamente del ordenador.</p>
</li>
</ul>
<h3 id="casa">Casa<a class="headerlink" href="#casa" title="Permanent link">¶</a></h3>
<ul>
<li>
<p>Por otro lado tenemos otra red interna 192.168.100.100/24 que también está detrás de una NAT.</p>
</li>
<li>
<p>En este caso sí tenemos control del router.</p>
</li>
</ul>
<h2 id="objetivo">Objetivo.<a class="headerlink" href="#objetivo" title="Permanent link">¶</a></h2>
<p>Establecer una conexión SSH desde el equipo de la izquierda con el de la derecha. Teniendo en cuenta que el router Mikrotik1 tendrá unas reglas que cortan las conexiones SSH.</p>
<h2 id="estrategia">Estrategia.<a class="headerlink" href="#estrategia" title="Permanent link">¶</a></h2>
<p>Dado que hay otros protocolos que no están cortados, como por ejemplo DNS, HTTP, HTTPS o ICMP se pueden aprovechar para establecer un <mark class="critic"><strong>túnel</strong></mark> entre los extremos usando estos protocolos. Posteriormente, <ins class="critic">dentro del túnel establecemos la conexión SSH</ins>. Es decir, que el firewall va a ver que hay una conexión ICMP, pero realmente dentro de esa conexión ICMP hay una sesión SSH.</p>
<p>Una cabecera ICMP tiene la siguiente forma, donde podemos ver que tiene un campo de ICMP Data, que es donde nosotros vamos establecer el túnel.</p>
<center>
<figure>
  <img src="imagenes/ofensiva/26.png" width="500">
</figure>
</center>

<p><strong>¿Qué quiere decir establecer un túnel?</strong></p>
<p>Dentro de la cabecera ICMP Data vamos a insertar otra cabecera IP (Túnel) con otro direccionamiento (<strong>IPs del túnel</strong>) y lo que serían los datos (ICMP Data) va a ser todo el tráfico ssh que vamos a intercambiar.</p>
<center>
<figure>
  <img src="imagenes/ofensiva/27.png" width="700">
</figure>
</center>

<p>Es decir, nuestro router solo va a leer la cabecera IP verde y lo va a enrutar. El firewall va a ver que es tráfico ICMP pero no va a  ver más allá, si tuviera que analizar todos los datos de todos los paquetes no podría dar abasto.</p>
<p>Cuando el paquete llegue al destino final, este equipo sí sabrá que tiene que desencapsular el tráfico ICMP Data para ver los datos reales, en este caso una conexión ssh.</p>
<h2 id="configuraciones-iniciales">Configuraciones Iniciales.<a class="headerlink" href="#configuraciones-iniciales" title="Permanent link">¶</a></h2>
<h3 id="configuracion-del-direccionamiento-y-del-nat">Configuración del direccionamiento y del NAT.<a class="headerlink" href="#configuracion-del-direccionamiento-y-del-nat" title="Permanent link">¶</a></h3>
<p>Antes de nada fíjate bien en los direccionamientos de cada equipo.</p>
<ul>
<li>Configuramos las interfaces y activamos un source NAT.</li>
</ul>
<center>
<figure>
  <img src="imagenes/ofensiva/28.png" width="900">
</figure>
</center>

<ul>
<li>Para configurar el otro router sería exactamente igual, únicamente variarían las direcciones IP.</li>
</ul>
<h3 id="configurar-los-equipos-cliente-y-servidor">Configurar los equipos Cliente y Servidor.<a class="headerlink" href="#configurar-los-equipos-cliente-y-servidor" title="Permanent link">¶</a></h3>
<ul>
<li>
<p>Establecer una IP estática en ambos equipos.</p>
</li>
<li>
<p>Establecer un DNS estático, por ejemplo 8.8.8.8.</p>
</li>
</ul>
<h3 id="comprobacion-del-correcto-funcionamiento-del-nat">Comprobación del correcto funcionamiento del NAT.<a class="headerlink" href="#comprobacion-del-correcto-funcionamiento-del-nat" title="Permanent link">¶</a></h3>
<ul>
<li>Hacemos ping desde “Servidor”, el que está a la derecha, debemos ser capaces de llegar al router del otro extremo a través de la red “Internet”.</li>
</ul>
<center>
<figure>
  <img src="imagenes/ofensiva/29.png" width="300">
</figure>
</center>

<ul>
<li>Una vez hecho el ping podemos comprobar en el router “Casa” (derecha) que ha realizado el NAT.</li>
</ul>
<center>
<figure>
  <img src="imagenes/ofensiva/30.png" width="900">
</figure>
</center>

<ul>
<li>
<p>Podemos realizar la misma operativa en el lado contrario, cambiando la IP del ping, para ver que también es correcta la configuración del NAT.</p>
</li>
<li>
<p>Desde el “Servidor” no deberíamos ser capaces de llegar por ICMP a la red privada de “Cliente”, es decir, no llegamos la IP 192.168.0.100, pues es una red interna (LAN) ajena a la nuestra. Obviamente el cliente tampoco debe ser capaz de alcanzar la red privada del Servidor.</p>
</li>
</ul>
<h3 id="configuracion-del-dmz-en-el-router-de-la-derecha-casa">Configuración del DMZ en el router de la derecha (Casa).<a class="headerlink" href="#configuracion-del-dmz-en-el-router-de-la-derecha-casa" title="Permanent link">¶</a></h3>
<center>
<figure>
  <img src="imagenes/ofensiva/31.png" width="900">
</figure>
</center>

<ul>
<li>Comprobar correcto funcionamiento estableciendo una sesión ssh desde “Cliente” hasta “Servidor”. </li>
</ul>
<div class="highlight"><pre><span></span><code>ssh<span class="w"> </span>usuario@85.85.85.2<span class="w"> </span>
</code></pre></div>
<div class="admonition tip">
<p>Hacemos el ssh a la IP pública porque el equipo está detrás de un NAT y no alcanzaríamos la IP pública ➡️ Al tener un DMZ reenvía todos el tráfico de los puertos conocidos a la IP interna.</p>
</div>
<div class="admonition danger">
<p class="admonition-title">AVISO</p>
<p><strong>Recuerda antes activar el servicio ssh que viene desactivado por defecto en Kali</strong></p>
<div class="highlight"><pre><span></span><code>systemctl<span class="w"> </span>start<span class="w"> </span>ssh
</code></pre></div>
</div>
<h3 id="anadir-filtros-de-seguridad-en-el-router-de-la-izquierda-empresa">Añadir filtros de seguridad en el router de la izquierda (“Empresa”).<a class="headerlink" href="#anadir-filtros-de-seguridad-en-el-router-de-la-izquierda-empresa" title="Permanent link">¶</a></h3>
<ul>
<li>Vamos a cortar el tráfico SSH tanto externo como interno.</li>
</ul>
<center>
<figure>
  <img src="imagenes/ofensiva/32.png" width="900">
</figure>
</center>

<center>
<figure>
  <img src="imagenes/ofensiva/33.png" width="900">
</figure>
</center>

<ul>
<li>Realizamos la comprobación y vemos que ya no establece conexión.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1">#Hacer la prueba desde el cliente de nuevo...</span>
ssh<span class="w"> </span>usuario@85.85.85.2<span class="w"> </span>
</code></pre></div>
<center>
<figure>
  <img src="imagenes/ofensiva/34.png" width="300">
</figure>
</center>

<h2 id="realizacion-del-bypass">Realización del Bypass.<a class="headerlink" href="#realizacion-del-bypass" title="Permanent link">¶</a></h2>
<h3 id="configurar-el-tunelizador">Configurar el tunelizador.<a class="headerlink" href="#configurar-el-tunelizador" title="Permanent link">¶</a></h3>
<p>Primeramente tenemos que tener descargado el siguiente programa en ambas máquinas:</p>
<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>https://sourceforge.net/projects/hanstunnel/files/source/hans-1.1.tar.gz/download
</code></pre></div>
<p>Descomprimimos y compilamos el Makefile.</p>
<div class="highlight"><pre><span></span><code>tar<span class="w"> </span>-xf<span class="w"> </span>hans-1.1.tar.gz
<span class="nb">cd</span><span class="w"> </span>hans1-1
make
</code></pre></div>
<h3 id="servidor">Servidor.<a class="headerlink" href="#servidor" title="Permanent link">¶</a></h3>
<ul>
<li>
<p><strong>-s</strong>: Para indicar que va a ser el servidor y la red que se establece en el túnel.</p>
</li>
<li>
<p><strong>-p</strong>: Contraseña para establecer el túnel.</p>
</li>
</ul>
<center>
<figure>
  <img src="imagenes/ofensiva/35.png" width="600">
</figure>
</center>

<h3 id="cliente">Cliente.<a class="headerlink" href="#cliente" title="Permanent link">¶</a></h3>
<ul>
<li>
<p><strong>-c</strong>: La IP del servidor, usaremos la IP pública del router que tiene configurada a su vez un DMZ.</p>
</li>
<li>
<p><strong>-p</strong>: La contraseña del túnel.</p>
</li>
</ul>
<center>
<figure>
  <img src="imagenes/ofensiva/36.png" width="700">
</figure>
</center>

<p><strong>Comprobamos que hay conectividad a través del túnel.</strong></p>
<div class="highlight"><pre><span></span><code>ping<span class="w"> </span><span class="m">10</span>.0.0.1
</code></pre></div>
<p><strong>Establecer conexión SSH a través del túnel.</strong></p>
<div class="admonition tip">
<p>Obviamente la conexión la hacemos desde el cliente hasta el servidor.</p>
</div>
<center>
<figure>
  <img src="imagenes/ofensiva/37.png" width="600">
</figure>
</center>

<h2 id="mitigacion">Mitigación.<a class="headerlink" href="#mitigacion" title="Permanent link">¶</a></h2>
<p>Hemos visto que estamos estableciendo un túnel a través de ICMP, por tanto vamos a probar a cortar el ICMP en el router de la empresa.</p>
<center>
<figure>
  <img src="imagenes/ofensiva/38.png" width="700">
</figure>
</center>

<p>Comprobamos desde “Cliente” que ya no contestan a ping:</p>
<div class="highlight"><pre><span></span><code>ping<span class="w"> </span><span class="m">85</span>.85.85.2
</code></pre></div>
<p>Ahora intentamos establecer el túnel.</p>
<ul>
<li>Primero ejecutamos hans en el “Servidor”</li>
</ul>
<div class="highlight"><pre><span></span><code>./hans<span class="w"> </span>-s<span class="w"> </span><span class="m">10</span>.0.0.0<span class="w"> </span>-p<span class="w"> </span>mipassword
</code></pre></div>
<ul>
<li>A continuación en el “Cliente”</li>
</ul>
<div class="highlight"><pre><span></span><code>./hans<span class="w"> </span>-c<span class="w"> </span><span class="m">85</span>.85.85.2<span class="w"> </span>-p<span class="w"> </span>mipassword
</code></pre></div>
<ul>
<li>Comprobamos que en el lado de “Cliente” no se ha podido establecer el túnel.</li>
</ul>
<center>
<figure>
  <img src="imagenes/ofensiva/39.png" width="600">
</figure>
</center>

<div class="admonition danger">
<p class="admonition-title">AVISO</p>
<p>No obstante, al igual que hemos hecho un “SSH over ICMP” también podemos hacerlo sobre “DNS” por ejemplo, protocolo que es más difícil de cortar.</p>
</div>
<h2 id="https-y-dns-inspection">HTTPS y DNS Inspection.<a class="headerlink" href="#https-y-dns-inspection" title="Permanent link">¶</a></h2>
<p>Por tanto la única solución sería tener un firewall que fuera capaz de investigar todos los datos, pero eso es algo complicado con la gran cantidad de tráfico, además no sería ético y mucho tráfico vendría cifrado, por lo que tendrías que ser capaz de descifrarlo y volverlo a cifrar antes de salir a Internet (<strong>HTTPS INSPECTION</strong>).</p>
<p>Aquí tienes información sobre <strong>HTTPS Inspection</strong> y <strong>DNS Inspection</strong>.</p>
<p><a href="https://www.cloudflare.com/es-es/learning/security/what-is-https-inspection/">Información sobre HTTPS Inspection.</a></p>
<p><a href="https://campus.barracuda.com/product/websecuritygateway/doc/30573250/how-to-configure-ssl-inspection-for-google-chrome-browser/">Información sobre configuración en clientes.</a></p>
<p><a href="https://blogs.infoblox.com/ipv6-coe/improved-security-through-dns-inspection-part-1/">Información sobre DNS Inspection.</a></p>
<h2 id="video-explicativo">Vídeo Explicativo.<a class="headerlink" href="#video-explicativo" title="Permanent link">¶</a></h2>
<center>

<iframe width="800" height="400" src="https://www.youtube.com/embed/MhZSJ0qmaec" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

</center></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Salvador Serrano Pérez - Licencia CC BY-NC-SA
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": ["header.autohide", "toc.integrate", "toc.follow", "navigation.indexes", "content.code.copy", "navigation.instant", "navigation.instant.progress", "navigation.tracking"], "search": "assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>